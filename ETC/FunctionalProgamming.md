![](https://images.velog.io/images/ouo_yoonk/post/608f0847-2cd0-4956-874d-38fcb2f7cd62/%ED%95%A8%EC%88%98%ED%98%95_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D.png)

# 함수형 프로그래밍

- 자료 처리를 수학적 함수의 계산으로 취급하고 상태와 가변 데이터를 멀리하는 프로그래밍 패러다임.
- 명령형 프로그래밍에서는 상태를 바꾸는 것을 강조하는 것과는 달리, 함수형 프로그래밍은 함수의 응용을 강조한다.프로그래밍이 문이 아닌 식이나 선언으로 수행되는 선언형 프로그래밍 패러다임을 따르고 있다.
- 명령형의 함수는 프로그램의 상태의 값을 바꿀 수 있는 부작용이 생길 수 있다. 이 때문에 명령항 함수는 참조 투명성이 없고, 같은 코드라도 실행되는 프로그램의 상태에 따라 다른 결과값을 낼 수 있다.
- 반대로 함수형 코드에서는 함수의 출력값은 그 함수에 입력된 인수에만 의존하므로 인수 x에 같은 값을 넣고 함수 f를 호출하면 항상f(x)라는 결과가 나온다. side effect를 제거하면 프로그램의 동작을 이해하고 예측하기가 훨씬 쉽게 된다. 이것이 함수형 프로그래밍으로 개발하려는 핵심 동기중 하나이다.
- 애플리케이션의 상태는 순수 함수를 통해 전달된다. 애플리케이션의 상태가 일반적으로 공유되고 객체의 메서드와 함께 배치되는 객체 지향 프로그래밍과는 대조된다.

## 선언형 vs 명령형

- 함수형 프로그래밍은 선언적 패러다임으로 흐름 제어를 명시적으로 기술하지 않고 프로그램 로직을 표현한다.

| 명령형                                                                           | 선언형                                                                                                                            |
| -------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| 원하는 결과를 얻기 위해 특정 단계를 설명하는 코드라인을 사용한다 - 흐름제어(How) | 흐름 제어를 추상화하고, 데이터 흐름을 설명하는 코드 라인을 사용한다 - 데이터 흐름(What)                                           |
| 구문 : 어떤 동작을 수행하는 코드 조각<br> 예) for, if, switch, throw             | 표현식 : 어떤 값을 평가하는 코드 조각<br> 함수 호출, 값, 결과 값을 생성하기 위해 평가되는 연산자의 조합 <br> 예) javascript map() |

## 핵심 개념

### 순수함수 Pure functions

- 같은 입력이 주어지면, 항상 같은 출력을 반환한다
- side effect가 없다

### 합성 함수 Function composition

- 새로운 함수를 만들거나 계산하기 위해 둘 이상의 함수를 조합하는 과정

### 공유 상태를 피하라

- 공유 상태는 공유 범위 내에 있는 변수, 객체 또는 메모리 공간이거나 범위 간에 전달되는 객체의 속성이다.
- 공유 범위에는 전역 범위 또는 클로저가 포함될 수 있다.
- 공유 상태에서는 해당 함수가 사용하거나 영향을 미치는 모든 공유 변수의 히스토리를 알아야 한다는 것과 공유 상태에서 작동하는 함수는 타이밍에 종속적이기 때문에 함수 호출 순서를 변경하면 호출이 실패할 수 있다.
- 순수 함수를 사용하면 동일한 입력에 동일한 출력을 얻기 때문에 함수 호출을 독립적으로 호출할 수 있으므로 변경과 리팩토링을 근본적으로 단순화할 수 있다.

### 상태 변화를 피하라 - 불변성

- 함수형 프로그래밍은 공유된 상태를 피하는 대신 불변의 데이터 구조(immutable data structures)와 순수한 계산을 통해 기존 데이터로부터 새로운 데이터를 만들어낸다
- `const`는 불변 객체를 만드는 것은 아니다. `Object.freeze` 메서드로 객체를 동결시킬 수 있다(최상위 원시 속성은 변경할 수 없지만, 객체일 수 있는 속성은 변경될 수 있다. 따라서 동결된 객체의 걱체 객체 tree로 방문하여 모든 객체 속성을 고정시키지 않는 한, 변경 불가능하게 만들 수 없다.
- 많은 함수형 프로그래밍 언어에는 트리 자료 구조라고 ㅜㄹ리는 특수한 불변의 자료 구조가 있어, 객체의 계층에서 속성의 수준에 관계없이 속성이 변경될 수 없다.

### 부작용(Side Effect)을 피하라

- side effect는 반환값 이외에 호출된 함수 밖에서 관찰할 수 있는 애플리케이션 상태 변화를 의미한다.
  - 외부 변수 또는 객체 속성 수정(전역 변수나 상위 함수 스코프 체인의 변수)
    - 콘솔에서 로깅
    - 화면에 쓰기 작업
    - 파일에 쓰기 작업
    - 네트워크에 쓰기 작업
    - 외부 프로세스를 트리거
    - side effect를 동반한 다른 함수 호출

---

**&#128209; reference**

- [위키백과 - 함수형 프로그래밍](https://ko.wikipedia.org/wiki/%ED%95%A8%EC%88%98%ED%98%95_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D)
- [Jeremy's Blog - 함수형 프로그래밍](https://sungjk.github.io/2017/07/17/fp.html)
